syntax = "proto3";
package soapbox;
option go_package = "soapboxpb";

import "soapbox.proto";

service Applications {
    rpc ListApplications (soapbox.Empty) returns (ListApplicationResponse) {}
    rpc CreateApplication (Application) returns (Application) {}
    rpc GetApplication (GetApplicationRequest) returns (Application) {}
}

enum ApplicationType {
    SERVER = 0;
    CRONJOB = 1;
}

message Application {
    int32 id = 1;
    string name = 2;
    string description = 3;
    string external_dns = 4;
    string github_repo_url = 5;
    string dockerfile_path = 6;
    string entrypoint_override = 7;
    ApplicationType type = 8;
    string created_at = 9;
    string slug = 10;
    string internal_dns = 11;
}

message ListApplicationResponse {
    repeated Application applications = 1;
}

message GetApplicationRequest {
    int32 id = 1;
}
